<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Fractal Porn</title>
	<link href="styles.css" rel="stylesheet" />
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>
<header data-include="partials/header.html"></header>
<main id="main">
  <h1 align="center" style="margin-top: 20vh; font-size: 3em;">
    4Ö4 – f0ur, 0h FOUR!!
  </h1>

  <p id="glitchText" align="center" style="font-size: 1.3em; margin: 1em 10%;">
    ¡t &lt;3r+4¡n1y seems the requested page does not exist. Or at least not anymore. 0r m4yb3 N0T y3t …? 0r m4yb3 n0t 4 u?
  </p>
</main>
  <script>
    const element = document.getElementById("glitchText");

    const variants = [
      { text: "It <3r+4in1y 533M5 the re3qu35+5+3D P463 D035 N0+ 3xI5T. 0r at least not anymore. 0r m4yb3 N0T y3t …? 0r m4yb3 n0t f0r y0u?", weight: 10 },
      { text: "☠ ERROR 404 ☠   This dimension does not contain what you seek …", weight: 10 },
      { text: "Signal Lost. Transmission scrambled beyond retrieval.", weight: 10 },
      { text: "[404.C0DEX]: target.page = undefined; retry ⇨∞", weight: 10 },
      { text: "¯\\_(ツ)_/¯  There's nothing here. Or is there?", weight: 10 },
      { text: "void ∞ echo(‘meaningless request’); // try again later", weight: 10 }
    ];

    const original = "¡t <3r+4¡n1y seems the requested page does not exist. Or at least not anymore. 0r m4yb3 N0T y3t …? 0r m4yb3 n0t f0r y0u?";

    function getWeightedRandomVariant() {
      const totalWeight = variants.reduce((sum, v) => sum + v.weight, 0);
      let rand = Math.random() * totalWeight;
      for (const v of variants) {
        if (rand < v.weight) return v.text;
        rand -= v.weight;
      }
      return variants[0].text; // fallback
    }

    function glitchOnce() {
      const glitchText = getWeightedRandomVariant();
      element.innerHTML = glitchText;
      setTimeout(() => {
        element.innerHTML = original;
      }, 500); // how long the glitch stays before returning
    }

    // Schedule random glitch intervals between 50ms and 300ms
    (function schedule() {
      glitchOnce();
      setTimeout(schedule, 50 + Math.random() * 250);
    })();
  </script>

<footer data-include="partials/footer.html"></footer>
<script src="partials/includes.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Fractal Porn</title>
	<link href="styles.css" rel="stylesheet" />
	<meta name="ocs-site-verification" content="965be62463731b0314eea395abb46994" />
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>
<header data-include="partials/header.html"></header>

<main id="main">
<section class="hero">
<h2>4O4</h2>

<p>Explore the nothing …</p>

<a class="btn" href="./gallery.html">View Gallery</a></section>
´
</main>

<footer data-include="partials/footer.html"></footer>

<div class="modal" id="imageModal" role="dialog" aria-modal="true" aria-label="Image viewer"><span class="close-btn" role="button" aria-label="Close" tabindex="0"><s>&times;</s></span>

<div class="modal-content"><img alt="" class="modal-img" src="" /></div>
</div>
<script src="partials/includes.js"></script>
<script>
        const modal = document.getElementById('imageModal');
        const modalImg = document.querySelector('.modal-img');
        const closeBtn = document.querySelector('.close-btn');
        const galleryImages = document.querySelectorAll('.image-container img');

        galleryImages.forEach(img => {
            img.addEventListener('click', () => {
                modal.style.display = 'block';
                modalImg.src = img.src;
                modalImg.alt = img.alt;
            });
        });

        function closeModal() {
            modal.style.display = 'none';
        }

        closeBtn.addEventListener('click', closeModal);
        closeBtn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                closeModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
    </script></body>
</html>
