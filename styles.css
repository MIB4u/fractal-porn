/* ——————————————————————————————————————————————
   Google Fonts Import
———————————————————————————————————————————————— */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@100..900&display=swap');

/* ——————————————————————————————————————————————
   CSS Reset / Normalize
———————————————————————————————————————————————— */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ——————————————————————————————————————————————
   Color Scheme (CSS Variables)
———————————————————————————————————————————————— */
:root {
  --primary-color:    rgba(68, 0, 255, 1);
  --secondary-color:  rgba(0, 0, 255, 1);
  --accent-color:     rgba(255, 0, 68, 1);
  --background-color: rgba(0, 0, 34, 1);
  --card-background:  rgba(255, 0, 255, 1);
  --text-color:       rgba(215, 215, 255, 1);
  --muted-text:       rgba(160, 160, 208, 1);
  --light-color:      rgba(192, 192, 255, 1);
  --dark-color:       rgba(17, 0, 34, 1);
  --header-footer-bg: rgba(0, 0, 102, 1);
  --focus-outline:    rgba(0, 229, 255, 1);
}

/* ——————————————————————————————————————————————
   Basic Typography Settings
———————————————————————————————————————————————— */
html {
  /* Fluid base font size: 14px on tiny screens → up to 16px on large */
  font-size: clamp(14px, 1.8vw, 16px);
  scroll-behavior: smooth;
}

body {
  font-family: 'Space Grotesk', sans-serif;
  line-height: 1.5;
  color: rgba(255, 255, 255, 1);
  background-color: var(--background-color);
  letter-spacing: -0.02em;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Space Grotesk', sans-serif;
  font-weight: 900;
  line-height: 1.2;
  margin-bottom: 1rem;
  color: rgba(255, 255, 255, 1);
}

/* Fluid headings for better scaling on small screens */
h1 { font-size: clamp(1.75rem, 6vw, 2.5rem); }
h2 { font-size: clamp(1.5rem, 5vw, 2rem); }
h3 { font-size: clamp(1.25rem, 4vw, 1.5rem); }

p { margin-bottom: 1rem; }

/* Links */
a {
  text-decoration: none;
  color: rgba(255, 255, 255, 1);
  transition: color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

a:hover { color: rgba(255, 0, 136, 1); }

a:focus-visible {
  outline: 2px dashed var(--focus-outline);
  outline-offset: 3px;
}

ul { list-style: none; }

/* ——————————————————————————————————————————————
   Accessibility helpers
———————————————————————————————————————————————— */
.skip-link {
  position: absolute;
  left: -9999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-link:focus {
  left: 1rem;
  top: 1rem;
  width: auto;
  height: auto;
  padding: 0.5rem 0.75rem;
  background: rgba(0, 0, 0, 1);
  color: rgba(255, 255, 255, 1);
  border: 1px solid var(--focus-outline);
  border-radius: 4px;
  z-index: 10000;
}

.oblique { font-style: oblique; }

/* ——————————————————————————————————————————————
   Layout Styles
———————————————————————————————————————————————— */
.container {
  width: 90%;
  max-width: 1800px;
  margin: 0 auto;
  padding: 0 1rem;
}

section { padding: 4rem 1rem; }

/* ——————————————————————————————————————————————
   Modal styles for image overlay
———————————————————————————————————————————————— */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0, 0, 32, 0.64);
}

.modal-content {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  max-width: 90%; max-height: 90%;
}

.modal-img {
  display: block;
  max-width: 100%; max-height: 100%;
  margin: 0 auto;
  border: 2px double var(--primary-color);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.75);
}

.close-btn {
  position: absolute;
  top: 15px; right: 35px;
  color: rgba(255, 255, 255, 1);
  font-size: 42px;
  font-weight: 900;
  transition: transform 0.2s ease, color 0.2s ease;
  cursor: pointer;
}

.close-btn:hover,
.close-btn:focus { color: var(--primary-color); }

.close-btn:focus-visible {
  outline: 2px solid var(--focus-outline);
  outline-offset: 4px;
}

/* ——————————————————————————————————————————————
   Header Styles
———————————————————————————————————————————————— */
header {
  background-color: var(--header-footer-bg);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
  padding: 1rem;
  position: sticky;
  top: 0;
  z-index: 100;
}

.logo { text-align: center; margin-bottom: 1rem; }

.tagline { color: var(--accent-color); }

nav ul {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1rem;
}

nav a {
  padding: 0.5rem 1rem;
  border-radius: 4px;
  color: var(--text-color);
}

nav a.active,
nav a:hover {
  background-color: var(--primary-color);
  color: rgba(255, 255, 255, 1);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.08) inset;
}

/* ——————————————————————————————————————————————
   Hero Section
———————————————————————————————————————————————— */
.hero {
  background: transparent;
  color: rgba(255, 255, 255, 1);
  text-align: center;
  padding: 6rem 1rem;
}

/* ——————————————————————————————————————————————
   Background Rotator (site-wide)
———————————————————————————————————————————————— */
.bg-rotator {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none; /* ensure it never blocks interaction */
}

.bg-rotator .bg {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  opacity: 0;
  transition: opacity var(--bgfx-dur, 1s) var(--bgfx-ease, ease),
              transform var(--bgfx-dur, 1s) var(--bgfx-ease, ease),
              filter var(--bgfx-dur, 1s) var(--bgfx-ease, ease);
  will-change: opacity, transform, filter;
  transform: translate3d(0, 0, 0) scale(1);
  /* Slightly darken and add a bit of saturation for readability */
  filter: brightness(0.6) saturate(1.1);
}

.bg-rotator .bg.is-active { opacity: 1; }

/* Randomized transition effects for background rotator */
/* Fade uses default opacity transition; transforms unchanged */
.bg-rotator .bg.fx-fade {}

/* Zoom in/out */
.bg-rotator .bg.fx-zoom-in.before-enter { transform: scale(1.08); }
.bg-rotator .bg.fx-zoom-in.leaving      { transform: scale(1.08); }

.bg-rotator .bg.fx-zoom-out.before-enter { transform: scale(0.92); }
.bg-rotator .bg.fx-zoom-out.leaving      { transform: scale(0.92); }

/* Slides */
.bg-rotator .bg.fx-slide-left.before-enter  { transform: translateX(8%); }
.bg-rotator .bg.fx-slide-left.leaving       { transform: translateX(-8%); }

.bg-rotator .bg.fx-slide-right.before-enter { transform: translateX(-8%); }
.bg-rotator .bg.fx-slide-right.leaving      { transform: translateX(8%); }

.bg-rotator .bg.fx-slide-up.before-enter    { transform: translateY(6%); }
.bg-rotator .bg.fx-slide-up.leaving         { transform: translateY(-6%); }

.bg-rotator .bg.fx-slide-down.before-enter  { transform: translateY(-6%); }
.bg-rotator .bg.fx-slide-down.leaving       { transform: translateY(6%); }

/* Blur (keep base brightness/saturation) */
.bg-rotator .bg.fx-blur.before-enter { filter: brightness(0.6) saturate(1.1) blur(8px); }
.bg-rotator .bg.fx-blur.leaving      { filter: brightness(0.6) saturate(1.1) blur(8px); }

/* Subtle rotate */
.bg-rotator .bg.fx-rotate.before-enter { transform: rotate(1.5deg) scale(1.02); }
.bg-rotator .bg.fx-rotate.leaving      { transform: rotate(-1.5deg) scale(1.02); }

@media (prefers-reduced-motion: reduce) {
  .bg-rotator .bg { transition: none !important; }
}

.hero h2 { font-size: 2.5rem; margin-bottom: 1.5rem; }

.hero p {
  font-size: 1.1rem;
  max-width: 800px;
  margin: 0 auto 2rem;
  letter-spacing: -0.02em;
}

.btn {
  display: inline-block;
  background: var(--dark-color);
  color: var(--primary-color);
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  font-weight: 800;
  text-transform: uppercase;
}

.btn:hover {
  background: var(--primary-color);
  color: rgba(255, 255, 255, 1);
  transform: translateY(-3px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
}

.btn:focus-visible {
  outline: 2px dashed var(--focus-outline);
  outline-offset: 4px;
}

/* ——————————————————————————————————————————————
   Gallery Section (Masonry Layout)
———————————————————————————————————————————————— */
.gallery { background-color: var(--background-color); text-align: center; }

.gallery h2 { margin-bottom: 3rem; }

.gallery-grid {
  /* CSS Columns for masonry */
  column-count: 3;
  column-gap: 2rem;
  max-width: 1800px;
  margin: 0 auto;
}

.gallery-item {
  background: var(--card-background);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.8);
  transition: transform 0.3s ease;
  display: inline-block;     /* required for CSS column items */
  width: 100%;
  margin: 0 0 2rem;
  break-inside: avoid;
}

.gallery-item:hover { transform: translateY(-10px); }

.image-container {
  position: relative;
  height: 400px;
  overflow: hidden;
  background-color: var(--dark-color);
}

.image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 1.5s ease;
}

 .gallery-item:hover .image-container img { transform: scale(1.5); }
 
 /* Ensure paused canvas overlays match image sizing/transition */
 .image-container .paused-canvas,
 .placeholder-image .paused-canvas,
 .modal-content .paused-canvas {
   position: absolute;
   top: 0;
   left: 0;
   display: block;
   width: 100%;
   height: 100%;
   /* Mirror the smooth zoom effect */
   transition: transform 1.5s ease;
   border: 2px double var(--primary-color);
   box-shadow: 0 0 20px rgba(0, 0, 0, 0.75);
 }

 .gallery-item:hover .image-container .paused-canvas { transform: scale(1.5); }
 
.placeholder-image {
  position: relative;
  height: 800px;
  background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
  color: rgba(255, 255, 255, 1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.gallery-item h3 { padding: 1rem; }

.gallery-item p { padding: 0 1rem 1rem; }

/* ——————————————————————————————————————————————
   About Section
———————————————————————————————————————————————— */
.about {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

/* ——————————————————————————————————————————————
   Footer Styles
———————————————————————————————————————————————— */
footer {
  background-color: var(--header-footer-bg);
  color: var(--muted-text);
  padding: 3rem 1rem 1rem;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto 2rem;
}

.footer-section h3 {
  color: rgba(255, 255, 255, 1);
  margin-bottom: 1.5rem;
  position: relative;
}

.footer-section h3::after {
  content: '';
  position: absolute;
  left: 0; bottom: -10px;
  width: 50px; height: 2px;
  background-color: var(--primary-color);
}

/* Center-align heading in sections explicitly marked as centered (e.g., Connect) */
.footer-section--center h3 { text-align: center; }
.footer-section--center h3::after { left: 50%; transform: translateX(-50%); }

.footer-section a { color: rgba(160, 160, 160, 1); }
.footer-section a:hover { color: var(--primary-color); }

.footer-section ul li { margin-bottom: 0.5rem; }

/* Social links layout handles the nested UL */
.social-links ul {
  display: flex;
  gap: 1rem;
  justify-content: center;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 0;
}
.social-links li { margin: 0; }
.social-link { display: inline-block; padding: 0.5rem; }

.copyright {
  text-align: center;
  padding-top: 2rem;
  border-top: 1px solid rgba(255,255,255,0.1);
}

/* ——————————————————————————————————————————————
   Responsive Design Overrides
———————————————————————————————————————————————— */
@media (max-width: 1024px) {
  .gallery-grid { column-count: 2; }
}

@media (max-width: 600px) {
  section { padding: 1.5rem 1rem; }
  header { padding: 0.75rem; }
  nav ul { flex-direction: column; align-items: stretch; gap: 0.5rem; }
  nav a { display: block; width: 100%; text-align: center; padding: 0.75rem 1rem; min-height: 44px; }
  .hero { padding: 4rem 1rem; }
  .hero h2 { font-size: clamp(1.5rem, 8vw, 2rem); }
  .hero p { font-size: 1rem; margin-bottom: 1.5rem; }
  .btn { width: 100%; }
  .gallery-grid { column-count: 1; column-gap: 1rem; }
  .image-container { height: 240px; }
  .footer-section { text-align: center; }
}

@media (max-width: 480px) {
  section { padding: 1.25rem 0.75rem; }
  .image-container { height: 220px; }
  .backdrop { padding: 0.5rem 0.75rem; }
  .close-btn { top: 10px; right: 15px; font-size: 48px; }
}

@media (max-width: 360px) {
  nav a { padding: 0.6rem 0.75rem; }
  .image-container { height: 200px; }
}

/* ——————————————————————————————————————————————
   Reduced motion preference
———————————————————————————————————————————————— */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* ——————————————————————————————————————————————
   Backdrop utilities (for readability over images)
———————————————————————————————————————————————— */
/* Generic backdrop for any text block */
.backdrop {
  display: inline-block;
  background: rgba(0, 0, 0, 0.64);
  padding: 0.75rem 1rem;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.36);
}

/* Tighter variant for single-line headings/links */
.backdrop--tight {
  padding: 0.25em 0.5em;
  border-radius: 0.4em;
}

/* Optional blur enhancement where supported */
.backdrop--blur {
  background: rgba(0, 0, 0, 0.4);
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .backdrop--blur {
    -webkit-backdrop-filter: blur(8px) saturate(1.2);
    backdrop-filter: blur(8px) saturate(1.2);
  }
}

/* Subtle text shadow to further increase contrast on complex imagery */
.backdrop, .backdrop * {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}

/* ——————————————————————————————————————————————
   Glitch Animation Utility
———————————————————————————————————————————————— */
/* Base glitchable element; Space Mono everywhere */
.glitch {
  position: relative;
  display: inline-block;
  font-family: 'Space Grotesk', sans-serif;
  color: var(--text-color);
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  opacity: 0.8;
  pointer-events: none;
}

.glitch::before {
  animation: glitch-anim 500ms infinite linear alternate-reverse;
  clip: rect(0, 100%, 10%, 0);
  color: rgba(255, 0, 85, 1);
  mix-blend-mode: screen;
}

.glitch::after {
  animation: glitch-anim 800ms infinite linear alternate-reverse;
  clip: rect(85%, 100%, 100%, 0);
  color: rgba(0, 229, 255, 1);
  mix-blend-mode: screen;
}

@keyframes glitch-anim {
  0%   { transform: translate(2px, 2px) skew(3deg); }
  50%  { transform: translate(-2px, -2px) skew(1deg); }
  100% { transform: translate(2px, -2px) skew(-1deg); }
}

.is-glitching { animation: base-jump 200ms infinite steps(2, end); }

@keyframes base-jump {
  0%,100% { transform: translate(0, 0); }
  50%     { transform: translate(-1px, 2px); }
}
